
h2. Fixtures

Fixtures are loaded from a directory _within the test app_, which is updated when you run rake hyhead:setup_test_app so in order to update a fixture, you must change it in test_support/fixtures and then either re-run rake hyhead:setup_test_app or copy the fixture into tmp/test_app/test_support/fixtures

h2. User objects

Blacklight has switched to using devise instead of authlogic as its default user/authentication system.  As part of this switch, no longer have a "login" attribute as their unique identifier.  Instead, you must use email as the unique identifier.  

h2. User Attributes

User attributes (first_name, last_name, full_name, affiliation and photo) have been removed from HydraHead.

h2. Controllers

* Removed Djatoka (JPEG 2000) support and the GetController

h3. What this means:

* Our sample user "archivist1" is now "archivist1@example.com".  
* Your cucumber features and rspec tests must use email addresses as the unique identifier for Users

Change your features and role_map YAML files accordingly.



h2. How to upgrade

* Create a new rails 3 project
* Add ```gem 'blacklight'``` and ```gem 'hydra-head'``` to the Gemfile
* run ```bundle install```
* cp -r old_project/vendor/plugin/old_project_plugin/app/* new_project/app
* cp -r old_project/vendor/plugin/old_project_plugin/lib/* new_project/lib
* copy any tests (test, spec, feature, etc) from the old_project_plugin directory to the new project 
 

